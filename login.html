<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Food App-Like</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css" integrity="sha512-KfkfwYDsLkIlwQp6LFnl8zNdLGxu9YAA1QvwINks4PhcElQSvqcyVLLD9aMhXd13uQjoXtEKNosOWaZqXgel0g==" crossorigin="anonymous" referrerpolicy="no-referrer" />

    <link rel="stylesheet" href="style.css">

    <link rel="stylesheet" href="login.css">
</head>
<style>

     a{
        color: black;
    }
    a:hover{
        color: orangered;
    }
</style>
<body>
        <div id="header" ></div>

        <div class="overlay">
            <form>
               <div class="con">
               <header class="head-form">
                  <h2>Log In</h2>
                  <p>login here using your username and password</p>
               </header>
               <br>
               <div class="field-set">
                     <span class="input-item">
                       <i class="fa fa-user-circle"></i>
                     </span>
                     <input class="form-input" id="txt-input" type="text" placeholder="@UserName" required>
                 
                  <br>
                 
                 
                  <span class="input-item">
                    <i class="fa fa-key"></i>
                   </span>
                  <input class="form-input" type="password" placeholder="Password" id="pwd"  name="password" required>

                 <span>
                    <i class="fa fa-eye" aria-hidden="true"  type="button" id="eye"></i>
                 </span>
                 
                 
                  <br>
                  <button class="log-in" id="logbtn"> Log In </button>
               </div>
               <div class="other">

                  <button class="btn submits frgt-pass">Forgot Password</button>

                  <button class="btn submits sign-up"> <a href="./signup.html"> Sign Up </a>

                  <i class="fa fa-user-plus" aria-hidden="true"></i>
                  </button>

               </div>
              </div>
            </form>
            </div>
  
</body>
</html>
<script type="module">

import navbar from './components/navbar.js';
let header = document.getElementById('header');
header.innerHTML = navbar();
</script>

<script>
function show() {
    var p = document.getElementById('pwd');
    p.setAttribute('type', 'text');
}

function hide() {
    var p = document.getElementById('pwd');
    p.setAttribute('type', 'password');
}

var pwShown = 0;

document.getElementById("eye").addEventListener("click", function () {
    if (pwShown == 0) {
        pwShown = 1;
        show();
    } else {
        pwShown = 0;
        hide();
    }
}, false);

var signArr = JSON.parse(localStorage.getItem('register'));
console.log(signArr)
document.getElementById('logbtn').addEventListener('click', function(e){
    e.preventDefault();
    let username = document.getElementById('txt-input').value;
    let password = document.getElementById('pwd').value;
    flag = false;
    for(let i = 0; i < signArr.length; i++){
        if(username == signArr[i].username && password == signArr[i].password){
            flag = true;
            break;

        }else{
            flag = false;

        }
    }
    if(flag==true){
        alert('Welcome ' + username);
            window.location.href = 'index.html';
    }
    else{
        alert('Invalid username or password');
    }
})




</script>

